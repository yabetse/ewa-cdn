calculate_withdrawable=function(e,a,t){var l=new Date;return(e*(l.getDate()-1)/new Date(l.getFullYear(),l.getMonth()+1,0).getDate()-a)*t},amount_requested_checks=function(e,a,t,l,i,o,r){if("-"==l)var n=!1;else n=new Date<=new Date(l.split("/")[2],l.split("/")[1]-1,l.split("/")[0]);var d=o<=0||i<o,_=Math.min(t,e);if(t>0)var s=r>=a&&r<=t&&r<=e;else s=r>=a&&r<=e;return 0==n?{status:!1,error:"Please wait until next month to submit new requests"}:0==d?{status:!1,error:"You have exceeded the maximum number of requests allowed per month"}:0==s&&t>0?{status:!1,error:"Please provide an amount between "+a.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")+" and "+_.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}:0==s?{status:!1,error:"Please provide an amount greater than "+a.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}:{status:!0}},display_message=function(e){if(0==e.status){var a=e.error;$(".error-message-custom").hide(),$(".validation-message-custom").hide(),$("<div class='error-message-custom'><strong>"+a+"</strong></div>").insertAfter($("#view_60 form ul"))}1==e.status?($(".error-message-custom").hide(),$(".validation-message-custom").hide(),$("<div class='validation-message-custom'><strong>All inputs are correct</strong></div>").insertAfter($("#view_60 .view-header")),$("#view_60 .kn-button.is-primary").prop("disabled",!1)):$("#view_60 .kn-button.is-primary").prop("disabled",!0)},$(document).on("knack-form-submit.view_60",function(e,a,t){$(".error-message-custom").hide(),$(".validation-message-custom").hide()}),$("#view_60 .kn-button.is-primary").prop("disabled",!0);var requested_transactions=parseInt(""==$("#view_66 .kn-pivot-calc:eq(1)").text().replace(/,/g,"")?0:$("#view_66 .kn-pivot-calc:eq(1)").text().replace(/,/g,"")),max_number_requests=parseFloat(""==$("#view_64 .field_91 .kn-detail-body").text().replace(/,/g,"")?0:$("#view_64 .field_91 .kn-detail-body").text().replace(/,/g,"")),input_val=0,cutoffs=Array();$("#view_64 .kn-detail.field_82 .kn-detail-body span span span").each(function(){cutoffs.push($(this).text())});var current_month=(new Date).getFullYear()+"-"+((new Date).getMonth()+1),months=Array();$("#view_64 .kn-detail.field_88 .kn-detail-body span span span").each(function(){months.push($(this).text())});for(var i=0;i<months.length;i++)if(months[i]==current_month)var cutoff_day=cutoffs[i];if(0==cutoffs.length)cutoff_day="-";var base_salary=parseFloat(""==$("#view_65 .field_44 .kn-detail-body").text().replace(/,/g,"")?0:$("#view_65 .field_44 .kn-detail-body").text().replace(/,/g,"")),requested_amount=parseFloat(""==$("#view_66 .kn-pivot-calc:eq(0)").text().replace(/,/g,"")?0:$("#view_66 .kn-pivot-calc:eq(0)").text().replace(/,/g,"")),withdrawable_threshold=parseFloat(""==$("#view_64 .field_89 .kn-detail-body").text().replace(/,/g,"")?0:$("#view_64 .field_89 .kn-detail-body").text().replace(/,/g,"")),min_allowed_employee=parseFloat(""==$("#view_65 .field_52 .kn-detail-body").text().replace(/,/g,"")?0:$("#view_65 .field_52 .kn-detail-body").text().replace(/,/g,"")),max_allowed_employee=parseFloat(""==$("#view_65 .field_53 .kn-detail-body").text().replace(/,/g,"")?0:$("#view_65 .field_53 .kn-detail-body").text().replace(/,/g,"")),min_allowed_company=parseFloat(""==$("#view_64 .field_87 .kn-detail-body").text().replace(/,/g,"")?0:$("#view_64 .field_87 .kn-detail-body").text().replace(/,/g,"")),max_allowed_company=parseFloat(""==$("#view_64 .field_90 .kn-detail-body").text().replace(/,/g,"")?0:$("#view_64 .field_90 .kn-detail-body").text().replace(/,/g,"")),normal_fee_setting=parseFloat(""==$("#view_64 .field_93 .kn-detail-body").text().replace(/,/g,"")?0:$("#view_64 .field_93 .kn-detail-body").text().replace(/,/g,"")),fast_fee_setting=parseFloat(""==$("#view_64 .field_94 .kn-detail-body").text().replace(/,/g,"")?0:$("#view_64 .field_94 .kn-detail-body").text().replace(/,/g,""));if(min_allowed_employee>0&&min_allowed_company>0)var min_allowed=Math.max(min_allowed_employee,min_allowed_company);else if(min_allowed_employee>0)min_allowed=min_allowed_employee;else if(min_allowed_company>0)min_allowed=min_allowed_company;else min_allowed=0;if(max_allowed_employee>0&&max_allowed_company>0)var max_allowed=Math.min(max_allowed_employee,max_allowed_company);else if(max_allowed_employee>0)max_allowed=max_allowed_employee;else if(max_allowed_company>0)max_allowed=max_allowed_company;else max_allowed=0;var speed=$('input[name="view_60-field_92"]:checked').val();if(speed.toLowerCase().indexOf("normal")>-1)var withdrawal_fee=normal_fee_setting;else if(speed.toLowerCase().indexOf("fast")>-1)withdrawal_fee=fast_fee_setting;$("#view_60 #field_63").attr("value",withdrawal_fee);var available_amount=calculate_withdrawable(base_salary,requested_amount,withdrawable_threshold);$("input[type=radio][name=view_60-field_92]").change(function(){var e=$("#field_18").val(),a=$('input[name="view_60-field_92"]:checked').val();a.toLowerCase().indexOf("normal")>-1?withdrawal_fee=normal_fee_setting:a.toLowerCase().indexOf("fast")>-1&&(withdrawal_fee=fast_fee_setting),$("#view_60 #field_63").attr("value",withdrawal_fee),available_amount=calculate_withdrawable(base_salary,requested_amount,withdrawable_threshold);var t=amount_requested_checks(available_amount,min_allowed,max_allowed,cutoff_day,requested_transactions,max_number_requests,e);display_message(t)}),$("input#field_18").on("input",function(e){var a=$(this).val(),t=$('input[name="view_60-field_92"]:checked').val();t.toLowerCase().indexOf("normal")>-1?withdrawal_fee=normal_fee_setting:t.toLowerCase().indexOf("fast")>-1&&(withdrawal_fee=fast_fee_setting),available_amount=calculate_withdrawable(base_salary,requested_amount,withdrawable_threshold);var l=amount_requested_checks(available_amount,min_allowed,max_allowed,cutoff_day,requested_transactions,max_number_requests,a);display_message(l)});